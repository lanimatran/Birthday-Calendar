{"ast":null,"code":"import _classCallCheck from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import{SERVER_CONNECTION_ERROR_MESSAGE,UNKNOWN_ERROR_ERROR_MESSAGE,STORAGE_AUTHENTICATION_TOKEN_KEY,STORAGE_FIRST_NAME_KEY}from\"./GlobalConstants\";var Utility=/*#__PURE__*/function(){function Utility(){_classCallCheck(this,Utility);}_createClass(Utility,[{key:\"getFullNameFromComponents\",value:function getFullNameFromComponents(firstName,lastName,middleName,suffix){var fullName=firstName+' '+lastName;fullName=middleName&&middleName!==''?fullName+', '+middleName:fullName;fullName=suffix&&suffix!==''?fullName+' '+suffix:fullName;return fullName;}},{key:\"getBirthdayFromComponents\",value:function getBirthdayFromComponents(birthmonth,birthday){return birthmonth+'/'+birthday;}},{key:\"getFirstNameFromStorage\",value:function getFirstNameFromStorage(){var firstName=sessionStorage.getItem(STORAGE_FIRST_NAME_KEY);if(firstName)return firstName;return'';}},{key:\"defaultApiErrorHandling\",value:function defaultApiErrorHandling(error,object){if(error.response){object.setState({serverErrorMessage:error.response.data.message});}else if(error.request){object.setState({serverErrorMessage:SERVER_CONNECTION_ERROR_MESSAGE});}else{object.setState({serverErrorMessage:UNKNOWN_ERROR_ERROR_MESSAGE});}}},{key:\"isUserAuthenticated\",value:function isUserAuthenticated(){if(sessionStorage.getItem(STORAGE_AUTHENTICATION_TOKEN_KEY))return true;return false;}},{key:\"saveLocalData\",value:function saveLocalData(data,willSaveTokenToLocalStorage,authenticationChangeHandler){if(willSaveTokenToLocalStorage){localStorage.setItem(STORAGE_AUTHENTICATION_TOKEN_KEY,data.token);localStorage.setItem(STORAGE_FIRST_NAME_KEY,data.firstName);}sessionStorage.setItem(STORAGE_AUTHENTICATION_TOKEN_KEY,data.token);sessionStorage.setItem(STORAGE_FIRST_NAME_KEY,data.firstName);authenticationChangeHandler();}},{key:\"removeToken\",value:function removeToken(authenticationChangeHandler){sessionStorage.clear();localStorage.clear();authenticationChangeHandler();}}]);return Utility;}();export default new Utility();","map":{"version":3,"sources":["D:/Projects/Birthday Calendar/birthday-calendar-react/src/Utility/Utility.js"],"names":["SERVER_CONNECTION_ERROR_MESSAGE","UNKNOWN_ERROR_ERROR_MESSAGE","STORAGE_AUTHENTICATION_TOKEN_KEY","STORAGE_FIRST_NAME_KEY","Utility","firstName","lastName","middleName","suffix","fullName","birthmonth","birthday","sessionStorage","getItem","error","object","response","setState","serverErrorMessage","data","message","request","willSaveTokenToLocalStorage","authenticationChangeHandler","localStorage","setItem","token","clear"],"mappings":"sWAAA,OAASA,+BAAT,CAA0CC,2BAA1C,CAAuEC,gCAAvE,CAAyGC,sBAAzG,KAAuI,mBAAvI,C,GAEMC,CAAAA,O,2KACwBC,S,CAAWC,Q,CAAUC,U,CAAYC,M,CAAQ,CAC/D,GAAIC,CAAAA,QAAQ,CAAGJ,SAAS,CAAG,GAAZ,CAAkBC,QAAjC,CACAG,QAAQ,CAAIF,UAAU,EAAIA,UAAU,GAAK,EAA9B,CAAmCE,QAAQ,CAAG,IAAX,CAAkBF,UAArD,CAAiEE,QAA5E,CACAA,QAAQ,CAAID,MAAM,EAAIA,MAAM,GAAK,EAAtB,CAA2BC,QAAQ,CAAG,GAAX,CAAiBD,MAA5C,CAAoDC,QAA/D,CACA,MAAOA,CAAAA,QAAP,CACH,C,4EAEyBC,U,CAAYC,Q,CAAU,CAC5C,MAAOD,CAAAA,UAAU,CAAG,GAAb,CAAmBC,QAA1B,CACH,C,yEAEyB,CACtB,GAAIN,CAAAA,SAAS,CAAGO,cAAc,CAACC,OAAf,CAAuBV,sBAAvB,CAAhB,CACA,GAAIE,SAAJ,CAAgB,MAAOA,CAAAA,SAAP,CAChB,MAAO,EAAP,CACH,C,wEAEuBS,K,CAAOC,M,CAAQ,CACnC,GAAID,KAAK,CAACE,QAAV,CAAoB,CAChBD,MAAM,CAACE,QAAP,CAAgB,CAACC,kBAAkB,CAAEJ,KAAK,CAACE,QAAN,CAAeG,IAAf,CAAoBC,OAAzC,CAAhB,EACH,CAFD,IAEO,IAAIN,KAAK,CAACO,OAAV,CAAmB,CACtBN,MAAM,CAACE,QAAP,CAAgB,CAACC,kBAAkB,CAAElB,+BAArB,CAAhB,EACH,CAFM,IAEA,CACHe,MAAM,CAACE,QAAP,CAAgB,CAACC,kBAAkB,CAAEjB,2BAArB,CAAhB,EACH,CACJ,C,iEAEqB,CAClB,GAAIW,cAAc,CAACC,OAAf,CAAuBX,gCAAvB,CAAJ,CAA8D,MAAO,KAAP,CAC9D,MAAO,MAAP,CACH,C,oDAEaiB,I,CAAMG,2B,CAA6BC,2B,CAA6B,CAC1E,GAAID,2BAAJ,CAAkC,CAC9BE,YAAY,CAACC,OAAb,CAAqBvB,gCAArB,CAAuDiB,IAAI,CAACO,KAA5D,EACAF,YAAY,CAACC,OAAb,CAAqBtB,sBAArB,CAA6CgB,IAAI,CAACd,SAAlD,EACH,CACDO,cAAc,CAACa,OAAf,CAAuBvB,gCAAvB,CAAyDiB,IAAI,CAACO,KAA9D,EACAd,cAAc,CAACa,OAAf,CAAuBtB,sBAAvB,CAA+CgB,IAAI,CAACd,SAApD,EACAkB,2BAA2B,GAC9B,C,gDAEWA,2B,CAA6B,CACrCX,cAAc,CAACe,KAAf,GACAH,YAAY,CAACG,KAAb,GACAJ,2BAA2B,GAC9B,C,uBAGL,cAAe,IAAInB,CAAAA,OAAJ,EAAf","sourcesContent":["import { SERVER_CONNECTION_ERROR_MESSAGE, UNKNOWN_ERROR_ERROR_MESSAGE, STORAGE_AUTHENTICATION_TOKEN_KEY, STORAGE_FIRST_NAME_KEY } from \"./GlobalConstants\"\r\n\r\nclass Utility {\r\n    getFullNameFromComponents(firstName, lastName, middleName, suffix) {\r\n        var fullName = firstName + ' ' + lastName\r\n        fullName = (middleName && middleName !== '')?(fullName + ', ' + middleName):fullName \r\n        fullName = (suffix && suffix !== '')?(fullName + ' ' + suffix):fullName\r\n        return fullName\r\n    }\r\n\r\n    getBirthdayFromComponents(birthmonth, birthday) {\r\n        return birthmonth + '/' + birthday\r\n    }\r\n\r\n    getFirstNameFromStorage() {\r\n        let firstName = sessionStorage.getItem(STORAGE_FIRST_NAME_KEY)\r\n        if (firstName)  return firstName;\r\n        return '';\r\n    }\r\n\r\n    defaultApiErrorHandling(error, object) {\r\n        if (error.response) {\r\n            object.setState({serverErrorMessage: error.response.data.message})\r\n        } else if (error.request) {\r\n            object.setState({serverErrorMessage: SERVER_CONNECTION_ERROR_MESSAGE})\r\n        } else {\r\n            object.setState({serverErrorMessage: UNKNOWN_ERROR_ERROR_MESSAGE})\r\n        }\r\n    }\r\n\r\n    isUserAuthenticated() {\r\n        if (sessionStorage.getItem(STORAGE_AUTHENTICATION_TOKEN_KEY)) return true;\r\n        return false;\r\n    }\r\n\r\n    saveLocalData(data, willSaveTokenToLocalStorage, authenticationChangeHandler) {\r\n        if (willSaveTokenToLocalStorage)  {\r\n            localStorage.setItem(STORAGE_AUTHENTICATION_TOKEN_KEY, data.token)\r\n            localStorage.setItem(STORAGE_FIRST_NAME_KEY, data.firstName)\r\n        }\r\n        sessionStorage.setItem(STORAGE_AUTHENTICATION_TOKEN_KEY, data.token)\r\n        sessionStorage.setItem(STORAGE_FIRST_NAME_KEY, data.firstName)\r\n        authenticationChangeHandler()\r\n    }\r\n\r\n    removeToken(authenticationChangeHandler) {\r\n        sessionStorage.clear()\r\n        localStorage.clear()\r\n        authenticationChangeHandler()\r\n    }\r\n}\r\n\r\nexport default new Utility()"]},"metadata":{},"sourceType":"module"}