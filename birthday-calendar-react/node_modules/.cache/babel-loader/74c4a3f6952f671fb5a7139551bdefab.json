{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\src\\\\Pages\\\\SignUpPage.jsx\";\nimport React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport * as yup from 'yup';\nimport { Formik, Form, Field } from 'formik';\nimport AccountService from '../ApiServices/AccountService';\nconst signUpValidation = yup.object().shape({\n  firstName: yup.string().required('First Name is required'),\n  lastName: yup.string().required('Last Name is required'),\n  username: yup.string().required(\"Username is required\").test('Unique Username', 'Username is already in use. Please log in or reset password.', username => new Promise(resolve => {\n    AccountService.checkExistingUsername(username).then(() => resolve(true)).catch(() => resolve(false));\n  })),\n  email: yup.string().required(\"Email is required\").email('Invalid email').test('Unique Email', 'Email is already in use. Please log in or reset password.', email => new Promise(resolve => {\n    AccountService.checkExistingEmail(email).then(() => resolve(true)).catch(error => {\n      console.log(error);\n    });\n  })),\n  password: yup.string().min(8, 'Passwords has to be at least 8 characters long').required(\"Password is required\"),\n  confirmPassword: yup.string().oneOf([yup.ref('password')], 'Passwords must match').required(\"Please confirm your Password\")\n});\n\nclass SignUpPage extends Component {\n  constructor(props) {\n    super(props);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  render() {\n    let initialState = {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      firstName: '',\n      lastName: ''\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Formik, {\n      initialValues: initialState,\n      validationSchema: signUpValidation,\n      onSubmit: this.onSubmit,\n      validateOnChange: false,\n      validateOnBlur: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, props => {\n      let {\n        errors,\n        touched\n      } = props;\n      return (\n        /*#__PURE__*/\n        // Formik's <Form> is not compatible with React Bootstrap's <Form>. The entire section is therefore written using classic tags\n        React.createElement(Form, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 49\n          }\n        }, \"First Name\"), /*#__PURE__*/React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"firstName\",\n          placeholder: \"First Name\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 49\n          }\n        }), errors.firstName && touched.firstName ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 93\n          }\n        }, errors.firstName) : /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 158\n          }\n        }, \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 49\n          }\n        }, \"Last Name\"), /*#__PURE__*/React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"lastName\",\n          placeholder: \"Last Name\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 49\n          }\n        }), errors.lastName && touched.lastName ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 91\n          }\n        }, errors.lastName) : /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 155\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 49\n          }\n        }, \"Username\"), /*#__PURE__*/React.createElement(Field, {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Username\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 49\n          }\n        }), errors.username && touched.username && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 89\n          }\n        }, errors.username)))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 49\n          }\n        }, \"Email\"), /*#__PURE__*/React.createElement(Field, {\n          className: \"form-control\",\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Email Address\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 49\n          }\n        }), errors.email && touched.email && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 83\n          }\n        }, errors.email)))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 49\n          }\n        }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n          className: \"form-control\",\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 49\n          }\n        }), errors.password && touched.password && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 89\n          }\n        }, errors.password)))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"fieldset\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 49\n          }\n        }, \"ConfirmPassword\"), /*#__PURE__*/React.createElement(Field, {\n          className: \"form-control\",\n          type: \"password\",\n          name: \"confirmPassword\",\n          placeholder: \"Confirm Password\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 49\n          }\n        }), errors.confirmPassword && touched.confirmPassword && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 103\n          }\n        }, errors.confirmPassword)))), /*#__PURE__*/React.createElement(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 37\n          }\n        }, \"Sign Up\"))\n      );\n    }));\n  }\n\n  onSubmit(values) {\n    let {\n      firstName,\n      lastName,\n      email,\n      password\n    } = values;\n    let user = {\n      firstName,\n      lastName,\n      email,\n      password\n    };\n    AccountService.signUp(user).then(response => {\n      this.props.history.push('/successfulRegistration');\n    }).catch(error => {\n      console.log('failed');\n      console.log(error);\n    });\n  }\n\n}\n\nexport default SignUpPage;","map":{"version":3,"sources":["D:/Projects/Birthday Calendar/birthday-calendar-react/src/Pages/SignUpPage.jsx"],"names":["React","Component","Button","yup","Formik","Form","Field","AccountService","signUpValidation","object","shape","firstName","string","required","lastName","username","test","Promise","resolve","checkExistingUsername","then","catch","email","checkExistingEmail","error","console","log","password","min","confirmPassword","oneOf","ref","SignUpPage","constructor","props","onSubmit","bind","render","initialState","errors","touched","values","user","signUp","response","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport * as yup from 'yup'\r\nimport { Formik, Form, Field } from 'formik'\r\nimport AccountService from '../ApiServices/AccountService';\r\n\r\nconst signUpValidation = yup.object().shape({\r\n    firstName: yup.string()\r\n        .required('First Name is required'),\r\n    lastName: yup.string()\r\n        .required('Last Name is required'),\r\n    username: yup.string()\r\n        .required(\"Username is required\")\r\n        .test('Unique Username', 'Username is already in use. Please log in or reset password.',\r\n            (username) => new Promise(\r\n                (resolve) => {\r\n                    AccountService.checkExistingUsername(username)\r\n                        .then(\r\n                            () => resolve(true)\r\n                        )\r\n                        .catch(\r\n                            () => resolve(false)\r\n                        )\r\n                })),\r\n    email: yup.string()\r\n        .required(\"Email is required\")\r\n        .email('Invalid email')\r\n        .test('Unique Email', 'Email is already in use. Please log in or reset password.',\r\n            (email) => new Promise(\r\n                (resolve) => {\r\n                    AccountService.checkExistingEmail(email)\r\n                        .then(\r\n                            () => resolve(true)\r\n                        )\r\n                        .catch(\r\n                            error => {\r\n                                console.log(error)\r\n                                \r\n                }\r\n                            \r\n                        )\r\n                })),\r\n    password: yup.string()\r\n        .min(8, 'Passwords has to be at least 8 characters long')\r\n        .required(\"Password is required\"),\r\n    confirmPassword: yup.string()\r\n        .oneOf([yup.ref('password')], 'Passwords must match')\r\n        .required(\"Please confirm your Password\")\r\n});\r\n\r\nclass SignUpPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n    }\r\n\r\n    render() {\r\n        let initialState = {\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            firstName: '',\r\n            lastName: ''\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Formik\r\n                    initialValues={initialState}\r\n                    validationSchema={signUpValidation}\r\n                    onSubmit={this.onSubmit}\r\n                    validateOnChange={false}\r\n                    validateOnBlur={true}\r\n                >\r\n                    {\r\n                        (props) => {\r\n                            let { errors, touched } = props\r\n                            return (\r\n                                // Formik's <Form> is not compatible with React Bootstrap's <Form>. The entire section is therefore written using classic tags\r\n                                <Form>\r\n                                    <div className='row'>\r\n                                        <div className='col'>\r\n                                            <fieldset className=\"form-group\">\r\n                                                <label>First Name</label>\r\n                                                <Field className=\"form-control\" type=\"text\" name=\"firstName\" placeholder=\"First Name\" />\r\n                                                {(errors.firstName && touched.firstName) ? (<div className=\"alert alert-danger\">{errors.firstName}</div>) : (<div> </div>)}\r\n                                            </fieldset>\r\n                                        </div>\r\n                                        <div className='col'>\r\n                                            <fieldset className=\"form-group\">\r\n                                                <label>Last Name</label>\r\n                                                <Field className=\"form-control\" type=\"text\" name=\"lastName\" placeholder=\"Last Name\" />\r\n                                                {(errors.lastName && touched.lastName) ? (<div className=\"alert alert-danger\">{errors.lastName}</div>) : (<div></div>)}\r\n                                            </fieldset>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='row'>\r\n                                        <div className='col'>\r\n                                            <fieldset className=\"form-group\">\r\n                                                <label>Username</label>\r\n                                                <Field className=\"form-control\" type=\"text\" name=\"username\" placeholder=\"Username\" />\r\n                                                {errors.username && touched.username && <div className=\"alert alert-danger\">{errors.username}</div>}\r\n                                            </fieldset>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='row'>\r\n                                        <div className='col'>\r\n                                            <fieldset className=\"form-group\">\r\n                                                <label>Email</label>\r\n                                                <Field className=\"form-control\" type=\"email\" name=\"email\" placeholder=\"Email Address\" />\r\n                                                {errors.email && touched.email && <div className=\"alert alert-danger\">{errors.email}</div>}\r\n                                            </fieldset>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='row'>\r\n                                        <div className='col'>\r\n                                            <fieldset className=\"form-group\">\r\n                                                <label>Password</label>\r\n                                                <Field className=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n                                                {errors.password && touched.password && <div className=\"alert alert-danger\">{errors.password}</div>}\r\n                                            </fieldset>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='row'>\r\n                                        <div className='col'>\r\n                                            <fieldset className=\"form-group\">\r\n                                                <label>ConfirmPassword</label>\r\n                                                <Field className=\"form-control\" type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" />\r\n                                                {errors.confirmPassword && touched.confirmPassword && <div className=\"alert alert-danger\">{errors.confirmPassword}</div>}\r\n                                            </fieldset>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Button variant=\"primary\" type=\"submit\">Sign Up</Button>\r\n                                </Form>\r\n                            )\r\n                        }\r\n                    }\r\n                </Formik>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    onSubmit(values) {\r\n        let { firstName, lastName, email, password } = values\r\n        let user = { firstName, lastName, email, password }\r\n        AccountService.signUp(user)\r\n            .then(\r\n                response => {\r\n                    this.props.history.push('/successfulRegistration')\r\n                }\r\n            )\r\n            .catch(\r\n                error => {\r\n                    console.log('failed')\r\n                    console.log(error)\r\n                }\r\n            )\r\n    }\r\n}\r\n\r\nexport default SignUpPage"]},"metadata":{},"sourceType":"module"}