{"ast":null,"code":"import Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction HomeButton() {\n  let history = useHistory();\n  history.push(\"/login\");\n}\n\n;\n\nclass ApiUtil {\n  constructor() {\n    this.history = useHistory();\n  }\n\n  createJwtToken(token) {\n    return 'Bearer ' + token;\n  }\n\n  setupRequestInterceptor(token) {\n    let header = this.createJwtToken(token);\n    Axios.interceptors.request.use(config => {\n      config.headers.authorization = header;\n      return config;\n    });\n  }\n\n  setupResponseInterceptor() {\n    Axios.interceptors.response.use(response => response, error => {\n      if (error.response.status === 401) HomeButton();\n    });\n  }\n\n}\n\nexport default new ApiUtil();","map":{"version":3,"sources":["D:/Projects/Birthday Calendar/birthday-calendar-react/src/ApiServices/ApiUtil.js"],"names":["Axios","useHistory","HomeButton","history","push","ApiUtil","createJwtToken","token","setupRequestInterceptor","header","interceptors","request","use","config","headers","authorization","setupResponseInterceptor","response","error","status"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,UAAT,GAAsB;AAClB,MAAIC,OAAO,GAAGF,UAAU,EAAxB;AACAE,EAAAA,OAAO,CAACC,IAAR,CAAa,QAAb;AACH;;AAAA;;AAED,MAAMC,OAAN,CAAc;AAAA;AAAA,SACVF,OADU,GACAF,UAAU,EADV;AAAA;;AAGVK,EAAAA,cAAc,CAACC,KAAD,EAAQ;AAClB,WAAO,YAAYA,KAAnB;AACH;;AAEDC,EAAAA,uBAAuB,CAACD,KAAD,EAAQ;AAC3B,QAAIE,MAAM,GAAG,KAAKH,cAAL,CAAoBC,KAApB,CAAb;AACAP,IAAAA,KAAK,CAACU,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACKC,MAAD,IAAY;AACRA,MAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAA+BN,MAA/B;AACA,aAAOI,MAAP;AACH,KAJL;AAMH;;AAEDG,EAAAA,wBAAwB,GAAG;AACvBhB,IAAAA,KAAK,CAACU,YAAN,CAAmBO,QAAnB,CAA4BL,GAA5B,CACIK,QAAQ,IAAIA,QADhB,EAEIC,KAAK,IACL;AACI,UAAIA,KAAK,CAACD,QAAN,CAAeE,MAAf,KAA0B,GAA9B,EAAmCjB,UAAU;AAChD,KALL;AAOH;;AAzBS;;AA4Bd,eAAe,IAAIG,OAAJ,EAAf","sourcesContent":["import Axios from \"axios\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nfunction HomeButton() {\r\n    let history = useHistory();\r\n    history.push(\"/login\");\r\n};\r\n\r\nclass ApiUtil {    \r\n    history = useHistory();\r\n\r\n    createJwtToken(token) {\r\n        return 'Bearer ' + token\r\n    }\r\n\r\n    setupRequestInterceptor(token) {\r\n        let header = this.createJwtToken(token)\r\n        Axios.interceptors.request.use(\r\n            (config) => {\r\n                config.headers.authorization = header\r\n                return config\r\n            }\r\n        )\r\n    }\r\n\r\n    setupResponseInterceptor() {\r\n        Axios.interceptors.response.use(\r\n            response => response,\r\n            error =>\r\n            {\r\n                if (error.response.status === 401) HomeButton()\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default new ApiUtil()"]},"metadata":{},"sourceType":"module"}