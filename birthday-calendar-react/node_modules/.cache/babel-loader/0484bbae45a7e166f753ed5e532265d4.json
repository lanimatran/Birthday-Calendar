{"ast":null,"code":"import _classCallCheck from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import{SERVER_CONNECTION_ERROR_MESSAGE,UNKNOWN_ERROR_ERROR_MESSAGE,SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY,LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY}from\"./GlobalConstants\";var Utility=/*#__PURE__*/function(){function Utility(){_classCallCheck(this,Utility);}_createClass(Utility,[{key:\"getFullNameFromComponents\",value:function getFullNameFromComponents(firstName,lastName,middleName,suffix){var fullName=firstName+' '+lastName;fullName=middleName&&middleName!==''?fullName+', '+middleName:fullName;fullName=suffix&&suffix!==''?fullName+' '+suffix:fullName;return fullName;}},{key:\"getBirthdayFromComponents\",value:function getBirthdayFromComponents(birthmonth,birthday){return birthmonth+'/'+birthday;}},{key:\"defaultApiErrorHandling\",value:function defaultApiErrorHandling(error,object){if(error.response){object.setState({serverErrorMessage:error.response.data.message});}else if(error.request){object.setState({serverErrorMessage:SERVER_CONNECTION_ERROR_MESSAGE});}else{object.setState({serverErrorMessage:UNKNOWN_ERROR_ERROR_MESSAGE});}}},{key:\"isUserAuthenticated\",value:function isUserAuthenticated(){if(sessionStorage.getItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY))return true;return false;}},{key:\"saveToken\",value:function saveToken(token,willSaveTokenToLocalStorage,authenticationChangeHandler){if(willSaveTokenToLocalStorage)localStorage.setItem(LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY,token);sessionStorage.setItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY,token);authenticationChangeHandler();}},{key:\"removeToken\",value:function removeToken(authenticationChangeHandler){sessionStorage.clear();localStorage.clear();authenticationChangeHandler();}}]);return Utility;}();export default new Utility();","map":{"version":3,"sources":["D:/Projects/Birthday Calendar/birthday-calendar-react/src/Utility/Utility.js"],"names":["SERVER_CONNECTION_ERROR_MESSAGE","UNKNOWN_ERROR_ERROR_MESSAGE","SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY","LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY","Utility","firstName","lastName","middleName","suffix","fullName","birthmonth","birthday","error","object","response","setState","serverErrorMessage","data","message","request","sessionStorage","getItem","token","willSaveTokenToLocalStorage","authenticationChangeHandler","localStorage","setItem","clear"],"mappings":"sWAAA,OAASA,+BAAT,CAA0CC,2BAA1C,CAAuEC,wCAAvE,CAAiHC,sCAAjH,KAA+J,mBAA/J,C,GAEMC,CAAAA,O,2KACwBC,S,CAAWC,Q,CAAUC,U,CAAYC,M,CAAQ,CAC/D,GAAIC,CAAAA,QAAQ,CAAGJ,SAAS,CAAG,GAAZ,CAAkBC,QAAjC,CACAG,QAAQ,CAAIF,UAAU,EAAIA,UAAU,GAAK,EAA9B,CAAmCE,QAAQ,CAAG,IAAX,CAAkBF,UAArD,CAAiEE,QAA5E,CACAA,QAAQ,CAAID,MAAM,EAAIA,MAAM,GAAK,EAAtB,CAA2BC,QAAQ,CAAG,GAAX,CAAiBD,MAA5C,CAAoDC,QAA/D,CACA,MAAOA,CAAAA,QAAP,CACH,C,4EAEyBC,U,CAAYC,Q,CAAU,CAC5C,MAAOD,CAAAA,UAAU,CAAG,GAAb,CAAmBC,QAA1B,CACH,C,wEAEuBC,K,CAAOC,M,CAAQ,CACnC,GAAID,KAAK,CAACE,QAAV,CAAoB,CAChBD,MAAM,CAACE,QAAP,CAAgB,CAACC,kBAAkB,CAAEJ,KAAK,CAACE,QAAN,CAAeG,IAAf,CAAoBC,OAAzC,CAAhB,EACH,CAFD,IAEO,IAAIN,KAAK,CAACO,OAAV,CAAmB,CACtBN,MAAM,CAACE,QAAP,CAAgB,CAACC,kBAAkB,CAAEhB,+BAArB,CAAhB,EACH,CAFM,IAEA,CACHa,MAAM,CAACE,QAAP,CAAgB,CAACC,kBAAkB,CAAEf,2BAArB,CAAhB,EACH,CACJ,C,iEAEqB,CAClB,GAAImB,cAAc,CAACC,OAAf,CAAuBnB,wCAAvB,CAAJ,CAAsE,MAAO,KAAP,CACtE,MAAO,MAAP,CACH,C,4CAESoB,K,CAAOC,2B,CAA6BC,2B,CAA6B,CACvE,GAAID,2BAAJ,CAAkCE,YAAY,CAACC,OAAb,CAAqBvB,sCAArB,CAA6DmB,KAA7D,EAClCF,cAAc,CAACM,OAAf,CAAuBxB,wCAAvB,CAAiEoB,KAAjE,EACAE,2BAA2B,GAC9B,C,gDAEWA,2B,CAA6B,CACrCJ,cAAc,CAACO,KAAf,GACAF,YAAY,CAACE,KAAb,GACAH,2BAA2B,GAC9B,C,uBAGL,cAAe,IAAIpB,CAAAA,OAAJ,EAAf","sourcesContent":["import { SERVER_CONNECTION_ERROR_MESSAGE, UNKNOWN_ERROR_ERROR_MESSAGE, SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY, LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY } from \"./GlobalConstants\"\r\n\r\nclass Utility {\r\n    getFullNameFromComponents(firstName, lastName, middleName, suffix) {\r\n        var fullName = firstName + ' ' + lastName\r\n        fullName = (middleName && middleName !== '')?(fullName + ', ' + middleName):fullName \r\n        fullName = (suffix && suffix !== '')?(fullName + ' ' + suffix):fullName\r\n        return fullName\r\n    }\r\n\r\n    getBirthdayFromComponents(birthmonth, birthday) {\r\n        return birthmonth + '/' + birthday\r\n    }\r\n\r\n    defaultApiErrorHandling(error, object) {\r\n        if (error.response) {\r\n            object.setState({serverErrorMessage: error.response.data.message})\r\n        } else if (error.request) {\r\n            object.setState({serverErrorMessage: SERVER_CONNECTION_ERROR_MESSAGE})\r\n        } else {\r\n            object.setState({serverErrorMessage: UNKNOWN_ERROR_ERROR_MESSAGE})\r\n        }\r\n    }\r\n\r\n    isUserAuthenticated() {\r\n        if (sessionStorage.getItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY)) return true;\r\n        return false;\r\n    }\r\n\r\n    saveToken(token, willSaveTokenToLocalStorage, authenticationChangeHandler) {\r\n        if (willSaveTokenToLocalStorage)  localStorage.setItem(LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY, token)\r\n        sessionStorage.setItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY, token)\r\n        authenticationChangeHandler()\r\n    }\r\n\r\n    removeToken(authenticationChangeHandler) {\r\n        sessionStorage.clear()\r\n        localStorage.clear()\r\n        authenticationChangeHandler()\r\n    }\r\n}\r\n\r\nexport default new Utility()"]},"metadata":{},"sourceType":"module"}