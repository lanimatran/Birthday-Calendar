{"ast":null,"code":"import _classCallCheck from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Projects\\\\Birthday Calendar\\\\birthday-calendar-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import LogInComponent from'../Pages/LogInComponent';import HeaderComponent from'./HeaderComponent';import HomePage from'../Pages/HomePage';import SignUpPage from'../Pages/SignUpPage';import SuccessfulRegistrationPage from'../Pages/SuccessfulRegistrationPage';import LogOutPage from'../Pages/LogOutPage';import{LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY,SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY}from'../Utility/GlobalConstants';import BirthdayPage from'../Pages/BirthdayPage';import ApiUtil from'../ApiServices/ApiUtil';import Utility from'../Utility/Utility';import{AuthenticatedRoute,NonAuthenticatedRoute}from'./Routes';var BirthdayCalendarApp=/*#__PURE__*/function(_Component){_inherits(BirthdayCalendarApp,_Component);var _super=_createSuper(BirthdayCalendarApp);function BirthdayCalendarApp(props){var _this;_classCallCheck(this,BirthdayCalendarApp);_this=_super.call(this,props);_this.initializeInterceptor();_this.state={isUserAuthenticated:Utility.isUserAuthenticated()};_this.initializeInterceptor=_this.initializeInterceptor.bind(_assertThisInitialized(_this));_this.handleAuthenticationChange=_this.handleAuthenticationChange.bind(_assertThisInitialized(_this));console.log(_this.state.isUserAuthenticated);return _this;}_createClass(BirthdayCalendarApp,[{key:\"initializeInterceptor\",value:function initializeInterceptor(){var token=null;if(sessionStorage.getItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY))token=sessionStorage.getItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY);else if(localStorage.getItem(LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY)){token=localStorage.getItem(LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY);sessionStorage.setItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY,token);}if(token){ApiUtil.setupInterceptors(token,this.handleAuthenticationChange);}}},{key:\"handleAuthenticationChange\",value:function handleAuthenticationChange(){console.log(this);this.setState({isUserAuthenticated:Utility.isUserAuthenticated()});}},{key:\"render\",value:function render(){var _this2=this;console.log(\"App is being rendered\");return/*#__PURE__*/React.createElement(React.StrictMode,null,/*#__PURE__*/React.createElement(\"div\",{className:\"BirthdayApp App\"},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HeaderComponent,{isUserAuthenticated:this.state.isUserAuthenticated}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(AuthenticatedRoute,{authenticated:this.state.isUserAuthenticated,path:\"/\",exact:true,component:HomePage}),/*#__PURE__*/React.createElement(NonAuthenticatedRoute,{authenticated:this.state.isUserAuthenticated,path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(LogInComponent,Object.assign({},props,{handler:_this2.handleAuthenticationChange}));}}),/*#__PURE__*/React.createElement(NonAuthenticatedRoute,{authenticated:this.state.isUserAuthenticated,path:\"/signup\",component:SignUpPage}),/*#__PURE__*/React.createElement(NonAuthenticatedRoute,{authenticated:this.state.isUserAuthenticated,path:\"/successfulRegistration\",component:SuccessfulRegistrationPage}),/*#__PURE__*/React.createElement(Route,{path:\"/logout\",render:function render(props){return/*#__PURE__*/React.createElement(LogOutPage,Object.assign({},props,{handler:_this2.handleAuthenticationChange}));}}),/*#__PURE__*/React.createElement(AuthenticatedRoute,{authenticated:this.state.isUserAuthenticated,path:\"/birthday/:id\",component:BirthdayPage}),/*#__PURE__*/React.createElement(AuthenticatedRoute,{authenticated:this.state.isUserAuthenticated,path:\"/birthday\",component:BirthdayPage}))))));}}]);return BirthdayCalendarApp;}(Component);export default BirthdayCalendarApp;","map":{"version":3,"sources":["D:/Projects/Birthday Calendar/birthday-calendar-react/src/Components/BirthdayCalendarApp.jsx"],"names":["React","Component","BrowserRouter","Router","Route","Switch","LogInComponent","HeaderComponent","HomePage","SignUpPage","SuccessfulRegistrationPage","LogOutPage","LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY","SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY","BirthdayPage","ApiUtil","Utility","AuthenticatedRoute","NonAuthenticatedRoute","BirthdayCalendarApp","props","initializeInterceptor","state","isUserAuthenticated","bind","handleAuthenticationChange","console","log","token","sessionStorage","getItem","localStorage","setItem","setupInterceptors","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\nimport LogInComponent from '../Pages/LogInComponent'\r\nimport HeaderComponent from './HeaderComponent'\r\nimport HomePage from '../Pages/HomePage'\r\nimport SignUpPage from '../Pages/SignUpPage'\r\nimport SuccessfulRegistrationPage from '../Pages/SuccessfulRegistrationPage'\r\nimport LogOutPage from '../Pages/LogOutPage'\r\nimport { LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY, SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY } from '../Utility/GlobalConstants'\r\nimport BirthdayPage from '../Pages/BirthdayPage'\r\nimport ApiUtil from '../ApiServices/ApiUtil'\r\nimport Utility from '../Utility/Utility'\r\nimport {AuthenticatedRoute, NonAuthenticatedRoute} from './Routes'\r\n\r\nclass BirthdayCalendarApp extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.initializeInterceptor()\r\n\r\n        this.state = {\r\n            isUserAuthenticated: Utility.isUserAuthenticated()\r\n        }\r\n\r\n        this.initializeInterceptor = this.initializeInterceptor.bind(this)\r\n        this.handleAuthenticationChange = this.handleAuthenticationChange.bind(this)\r\n        console.log(this.state.isUserAuthenticated)\r\n    }\r\n\r\n    initializeInterceptor() {\r\n        var token = null\r\n        if (sessionStorage.getItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY)) token = sessionStorage.getItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY)\r\n        else if (localStorage.getItem(LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY))\r\n        {\r\n            token = localStorage.getItem(LOCAL_STORAGE_AUTHENTICATION_TOKEN_KEY)\r\n            sessionStorage.setItem(SESSION_STORAGE_AUTHENTICATION_TOKEN_KEY, token)\r\n        }\r\n        if (token) {\r\n            ApiUtil.setupInterceptors(token, this.handleAuthenticationChange)\r\n        }\r\n    }\r\n\r\n    handleAuthenticationChange() {\r\n        console.log(this)\r\n        this.setState({isUserAuthenticated: Utility.isUserAuthenticated()})\r\n    }\r\n\r\n    render() {\r\n        console.log(\"App is being rendered\")\r\n        return(\r\n            <React.StrictMode>\r\n                <div className=\"BirthdayApp App\">\r\n                    <Router>\r\n                        <>\r\n                            <HeaderComponent isUserAuthenticated={this.state.isUserAuthenticated}/>\r\n                            <Switch>\r\n                                <AuthenticatedRoute authenticated={this.state.isUserAuthenticated} path=\"/\" exact component = {HomePage}/>\r\n                                <NonAuthenticatedRoute authenticated={this.state.isUserAuthenticated} path=\"/login\" render={(props) => <LogInComponent {...props} handler={this.handleAuthenticationChange} />} />\r\n                                <NonAuthenticatedRoute authenticated={this.state.isUserAuthenticated} path=\"/signup\" component = {SignUpPage}/>\r\n                                <NonAuthenticatedRoute authenticated={this.state.isUserAuthenticated} path=\"/successfulRegistration\" component = {SuccessfulRegistrationPage}/>\r\n                                <Route path=\"/logout\" render={(props) => <LogOutPage {...props} handler={this.handleAuthenticationChange} />} />\r\n                                <AuthenticatedRoute authenticated={this.state.isUserAuthenticated} path=\"/birthday/:id\" component = {BirthdayPage}/>\r\n                                <AuthenticatedRoute authenticated={this.state.isUserAuthenticated} path=\"/birthday\" component = {BirthdayPage}/>\r\n                            </Switch>\r\n                        </>\r\n                    </Router>\r\n                </div>\r\n            </React.StrictMode>\r\n        )    \r\n    }        \r\n}\r\n\r\nexport default BirthdayCalendarApp"]},"metadata":{},"sourceType":"module"}